// Router Architecture - Aurora Agentics
digraph {
	nodesep=0.8 rankdir=TB ranksep=1.0 splines=ortho
	node [fontname=Arial fontsize=11]
	edge [fontname=Arial fontsize=9 penwidth=1.5]
	start [label=__START__ fillcolor=lightblue height=0.5 shape=ellipse style=filled width=1.2]
	guardrails [label="Guardrails
Agent" fillcolor="#FFE5B4" height=0.8 shape=box style="filled,rounded" width=2]
	guard_check [label="Pass?" fillcolor=lightgray height=0.6 shape=diamond style=filled width=1]
	intent [label="Intent
Classifier" fillcolor="#FFE5B4" height=0.8 shape=box style="filled,rounded" width=2]
	intent_router [label="Route by
Category" fillcolor=lightgray height=0.8 shape=diamond style=filled width=1.5]
	subgraph cluster_cv {
		color=lightgray fillcolor="#E8F4F8" label="CV Pipeline" style=filled
		cv_extract [label="CV
Extractor" fillcolor="#90EE90" shape=box style="filled,rounded" width=1.8]
		cv_match [label="CV
Matcher" fillcolor="#90EE90" shape=box style="filled,rounded" width=1.8]
		cv_decision [label="Match
OK?" fillcolor=white shape=diamond style=filled width=1]
		draft_accept [label="Draft HR
Forward" fillcolor="#98FB98" shape=box style="filled,rounded" width=1.8]
		draft_reject [label="Draft HR
Reject" fillcolor="#FFA07A" shape=box style="filled,rounded" width=1.8]
		hr_pkg_fwd [label="Packager
HR Forward" fillcolor="#D3D3D3" shape=box style=filled width=1.8]
		hr_pkg_rej [label="Packager
HR Reject" fillcolor="#D3D3D3" shape=box style=filled width=1.8]
	}
	subgraph cluster_sales {
		color=lightgray fillcolor="#FFF8DC" label="Sales Pipeline" style=filled
		sales_extract [label="Sales
Extractor" fillcolor="#90EE90" shape=box style="filled,rounded" width=1.8]
		draft_sales [label="Draft Sales
Forward" fillcolor="#98FB98" shape=box style="filled,rounded" width=1.8]
		sales_pkg [label="Packager
Sales" fillcolor="#D3D3D3" shape=box style=filled width=1.8]
	}
	subgraph cluster_other {
		color=lightgray fillcolor="#F0E68C" label="Events/Other Pipeline" style=filled
		owner_map [label="Owner
Mapping" fillcolor="#90EE90" shape=box style="filled,rounded" width=1.8]
		draft_generic [label="Draft Generic
Ack" fillcolor="#98FB98" shape=box style="filled,rounded" width=1.8]
		events_pkg [label="Packager
Events" fillcolor="#D3D3D3" shape=box style=filled width=1.8]
		other_pkg [label="Packager
Other" fillcolor="#D3D3D3" shape=box style=filled width=1.8]
	}
	end [label=__END__ fillcolor=lightblue height=0.5 shape=ellipse style=filled width=1.2]
	start -> guardrails [label="Email in"]
	guardrails -> guard_check
	guard_check -> intent [label="âœ“ Safe"]
	guard_check -> end [label="âœ— Block" color=red style=dashed]
	intent -> intent_router
	intent_router -> cv_extract [label=CV color=blue]
	cv_extract -> cv_match
	cv_match -> cv_decision
	cv_decision -> draft_accept [label="Match â‰¥70%" color=green]
	cv_decision -> draft_reject [label="No match" color=orange]
	draft_accept -> hr_pkg_fwd
	draft_reject -> hr_pkg_rej
	hr_pkg_fwd -> end
	hr_pkg_rej -> end
	intent_router -> sales_extract [label=Sales color=blue]
	sales_extract -> draft_sales
	draft_sales -> sales_pkg
	sales_pkg -> end
	intent_router -> owner_map [label="Event/Other" color=blue]
	owner_map -> draft_generic
	draft_generic -> events_pkg [label=Event constraint=false]
	draft_generic -> other_pkg [label=Other constraint=false]
	events_pkg -> end
	other_pkg -> end
}
